(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2,3],{282:function(t,e,o){var content=o(285);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(78).default)("7d6d5ab3",content,!0,{sourceMap:!1})},283:function(t,e,o){var content=o(287);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(78).default)("ad928436",content,!0,{sourceMap:!1})},284:function(t,e,o){"use strict";o(282)},285:function(t,e,o){var r=o(77)(!1);r.push([t.i,".project[data-v-fff22700]{width:100%;height:100px;background-color:#fff;border:1px solid #dbdbdb;padding:20px;margin-bottom:10px;display:flex}.project__first-part[data-v-fff22700]{width:33%;display:flex;justify-content:center;align-items:center}.project__first-part__logo[data-v-fff22700]{width:50px;height:50px}.project__first-part__name[data-v-fff22700]{margin-left:15px;font-weight:600;cursor:pointer}.project__second-part[data-v-fff22700]{width:33%;display:flex;justify-content:center;align-items:center;font-weight:600}.project__second-part__active-status[data-v-fff22700]{color:green}.project__second-part__inactive-status[data-v-fff22700]{color:red}.project__third-part[data-v-fff22700]{width:33%;display:flex;justify-content:center;align-items:center}.project__third-part__times[data-v-fff22700]{margin-left:20px}",""]),t.exports=r},286:function(t,e,o){"use strict";o(283)},287:function(t,e,o){var r=o(77)(!1);r.push([t.i,".project-modal[data-v-fbe11b7a]{position:absolute;top:0;width:100%;height:100vh;background-color:rgba(0,0,0,.631372549)}.project-modal .modal-content[data-v-fbe11b7a]{width:400px;background-color:#fff;border-radius:10px;margin:200px auto}.project-modal .modal-content__header[data-v-fbe11b7a]{font-size:22px;color:#655858;font-weight:600;padding:20px;border-bottom:1px solid #655858}.project-modal .modal-content__form[data-v-fbe11b7a]{padding:20px}.project-modal .modal-content__form__input[data-v-fbe11b7a]{width:92%;border:1px solid #dadada;border-radius:5px;outline:none;padding:15px;margin-top:10px}.project-modal .modal-content__form__buttons-area[data-v-fbe11b7a]{display:flex;justify-content:space-between;margin-top:20px}.project-modal .modal-content__form__buttons-area__button[data-v-fbe11b7a]{background:grey;color:#fff;width:40%;padding:15px 0;border:none;border-radius:5px;margin-top:20px;margin-bottom:20px;font-size:14px;font-weight:600;letter-spacing:1px;cursor:pointer}.project-modal .modal-content__form__buttons-area__button[data-v-fbe11b7a]:hover{background:#c0bcbc}",""]),t.exports=r},289:function(t,e,o){var content=o(297);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(78).default)("56a1a222",content,!0,{sourceMap:!1})},290:function(t,e,o){"use strict";o.r(e);var r={name:"ProjectCart",props:{projectData:{type:Object,default:{}}},methods:{convertHMS:function(t){var e=parseInt(t,10),o=Math.floor(e/3600),r=Math.floor((e-3600*o)/60),n=e-3600*o-60*r;return o<10&&(o="0"+o),r<10&&(r="0"+r),n<10&&(n="0"+n),o+":"+r+":"+n}}},n=(o(284),o(25)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project"},[o("div",{staticClass:"project__first-part"},[o("img",{staticClass:"project__first-part__logo",attrs:{src:t.projectData.logo_url,alt:"project-logo"}}),t._v(" "),o("div",{staticClass:"project__first-part__name",on:{click:function(e){return t.$emit("openEditModal")}}},[t._v("\n      "+t._s(t.projectData.name)+"\n    ")])]),t._v(" "),o("div",{staticClass:"project__second-part"},[t.projectData.is_active?o("div",{staticClass:"project__second-part__active-status"},[t._v("\n      Active\n    ")]):o("div",{staticClass:"project__second-part__inactive-status"},[t._v("\n      Inactive\n    ")])]),t._v(" "),o("div",{staticClass:"project__third-part"},[t._m(0),t._v(" "),o("div",{staticClass:"project__third-part__times"},[o("div",[t._v(t._s(t.convertHMS(t.projectData.spent_sec_all_time)))]),t._v(" "),o("div",[t._v(t._s(t.convertHMS(t.projectData.spent_sec_all_time)))]),t._v(" "),o("div",[t._v(t._s(t.convertHMS(t.projectData.spent_sec_all_time)))])])])])}),[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project__third-part__labels"},[o("div",[t._v("time this week")]),t._v(" "),o("div",[t._v("this month")]),t._v(" "),o("div",[t._v("total")])])}],!1,null,"fff22700",null);e.default=component.exports},291:function(t,e,o){"use strict";o.r(e);var r={name:"ProjectModal",props:{value:{type:String,default:""}},computed:{projectName:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},n=(o(286),o(25)),component=Object(n.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"project-modal"},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-content__header"},[t._v("\n      Edit Project\n    ")]),t._v(" "),o("div",{staticClass:"modal-content__form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.projectName,expression:"projectName"}],staticClass:"modal-content__form__input",attrs:{type:"text",placeholder:"Project name"},domProps:{value:t.projectName},on:{input:function(e){e.target.composing||(t.projectName=e.target.value)}}}),t._v(" "),o("div",{staticClass:"modal-content__form__buttons-area"},[o("button",{staticClass:"modal-content__form__buttons-area__button",on:{click:function(e){return t.$emit("closeModal")}}},[t._v("\n          Cancel\n        ")]),t._v(" "),o("button",{staticClass:"modal-content__form__buttons-area__button",on:{click:function(e){return t.$emit("updateProject")}}},[t._v("\n          Update\n        ")])])])])])}),[],!1,null,"fbe11b7a",null);e.default=component.exports},296:function(t,e,o){"use strict";o(289)},297:function(t,e,o){var r=o(77)(!1);r.push([t.i,".home-container[data-v-d2e4be54]{background-color:#f2f2f2;height:90vh;padding-top:10vh;display:flex;justify-content:center}.home-container .projects-area[data-v-d2e4be54]{width:50%}",""]),t.exports=r},299:function(t,e,o){"use strict";o.r(e);var r=o(12),n=(o(65),o(43),o(179)),c={name:"IndexPage",layout:"mainLayout",data:function(){return{token:"",projectName:"",editingProjectId:null,projectModal:!1}},mounted:function(){this.token=Object(n.a)("token",document.cookie),this.token||this.$router.push("/login")},methods:{openEditModal:function(t){this.projectName=t.name,this.editingProjectId=t.id,this.projectModal=!0},closeModal:function(){this.projectName="",this.editingProjectId=null,this.projectModal=!1},updateProject:function(){var t=this;this.$axios.$put("https://api.quwi.com/v2/projects-manage/update?id=".concat(this.editingProjectId),{name:this.projectName},{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){t.projectName="",t.projectModal=!1,t.$nuxt.refresh()})).catch((function(t){console.error(t.message)}))}},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,c,d,l,_,f,v,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.req,d=t.$axios,l=t.nuxtState,_=(null==l||null===(o=l.data)||void 0===o?void 0:o[0].token)||Object(n.a)("token",null==c||null===(r=c.headers)||void 0===r?void 0:r.cookie),f={token:_,projects:[]},e.prev=3,e.next=6,d.$get("https://api.quwi.com/v2/projects-manage/index?filters[is_active]=1&sort=dta_create",{headers:{Authorization:"Bearer ".concat(_)}});case 6:return v=e.sent,m=v.projects,f.projects=m,e.abrupt("return",f);case 12:return e.prev=12,e.t0=e.catch(3),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})))()}},d=(o(296),o(25)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home-container"},[o("div",{staticClass:"projects-area"},t._l(t.projects,(function(e){return o("ProjectCart",{key:e.id,attrs:{projectData:e},on:{openEditModal:function(o){return t.openEditModal(e)}}})})),1),t._v(" "),t.projectModal?o("ProjectModal",{on:{closeModal:t.closeModal,updateProject:t.updateProject},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}}):t._e()],1)}),[],!1,null,"d2e4be54",null);e.default=component.exports;installComponents(component,{ProjectCart:o(290).default,ProjectModal:o(291).default})}}]);